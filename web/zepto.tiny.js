window.$=function(){var i,e,r,o=[].slice,s=document,t={append:"beforeEnd",prepend:"afterBegin",before:"beforeBegin",after:"afterEnd"};function u(t,n){return o.call(t.querySelectorAll(n))}function c(t){return new RegExp("(^|\\s)"+t+"(\\s|$)")}function f(t){return t.filter(function(t){return t!==r&&null!==t})}function a(t,n){this.dom=t||[],this.selector=n||""}function h(t,n){return t==document?new a:n!==r?h(n).find(t):new a(f(t instanceof a?t.dom:t instanceof Array?t:t instanceof Element?[t]:u(s,t)),t)}for(i in String.prototype.trim===r&&(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),a.prototype=h.fn,h.extend=function(t,n){for(i in n)t[i]=n[i]},camelize=function(t){return t.replace(/-+(.)?/g,function(t,n){return n?n.toUpperCase():""})},h.fn={ready:function(t){return document.addEventListener("DOMContentLoaded",t,!1),this},compact:function(){return this.dom=f(this.dom),this},get:function(t){return t===r?this.dom:this.dom[t]},remove:function(){return this.each(function(t){t.parentNode.removeChild(t)})},each:function(t){return this.dom.forEach(t),this},filter:function(n){return h(this.dom.filter(function(t){return 0<=u(t.parentNode,n).indexOf(t)}))},is:function(t){return 0<this.dom.length&&0<h(this.dom[0]).filter(t).dom.length},first:function(t){return this.dom=f([this.dom[0]]),this},find:function(n){return h(this.dom.map(function(t){return u(t,n)}).reduce(function(t,n){return t.concat(n)},[]))},closest:function(t){for(var n=this.dom[0].parentNode,e=u(s,t);n&&e.indexOf(n)<0;)n=n.parentNode;return h(n&&n!==s?n:[])},show:function(){return this.css("display","block")},hide:function(){return this.css("display","none")},html:function(n){return n===r?0<this.dom.length?this.dom[0].innerHTML:null:this.each(function(t){t.innerHTML=n})},attr:function(n,e){return"string"==typeof n&&e===r?0<this.dom.length?this.dom[0].getAttribute(n)||void 0:null:this.each(function(t){if("object"==typeof n)for(i in n)t.setAttribute(i,n[i]);else t.setAttribute(n,e)})},offset:function(){var t=this.dom[0].getBoundingClientRect();return{left:t.left+s.body.scrollLeft,top:t.top+s.body.scrollTop,width:t.width,height:t.height}},css:function(t,n){if(n===r&&"string"==typeof t)return this.dom[0].style[camelize(t)];for(i in e="",t)e+=i+":"+t[i]+";";return"string"==typeof t&&(e=t+":"+n),this.each(function(t){t.style.cssText+=";"+e})},index:function(t){return this.dom.indexOf(h(t).get(0))},bind:function(t,e){return this.each(function(n){t.split(/\s/).forEach(function(t){n.addEventListener(t,e,!1)})})},unbind:function(t,e){return this.each(function(n){t.split(/\s/).forEach(function(t){n.removeEventListener(t,e,!1)})})},on:function(t,n){return this.bind(t,n)},off:function(t,n){return this.unbind(t,n)},delegate:function(r,t,o){return this.each(function(i){i.addEventListener(t,function(t){for(var n=t.target,e=u(i,r);n&&e.indexOf(n)<0;)n=n.parentNode;n&&n!==i&&n!==s&&o(n,t)},!1)})},live:function(t,n){return h(s.body).delegate(this.selector,t,n),this},hasClass:function(t){return c(t).test(this.dom[0].className)},addClass:function(n){return this.each(function(t){h(t).hasClass(n)||(t.className+=(t.className?" ":"")+n)})},removeClass:function(n){return this.each(function(t){t.className=t.className.replace(c(n)," ").trim()})},trigger:function(e){return this.each(function(t){var n;t.dispatchEvent(n=s.createEvent("Events"),n.initEvent(e,!0,!1))})}},h.ajax=function(t,n,e){var i=new XMLHttpRequest;i.onreadystatechange=function(){4!=i.readyState||200!=i.status&&0!=i.status||e(i.responseText)},i.open(t,n,!0),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(null)},h.get=function(t,n){h.ajax("GET",t,n)},h.post=function(t,n){h.ajax("POST",t,n)},h.getJSON=function(t,n){h.get(t,function(t){n(JSON.parse(t))})},["width","height"].forEach(function(t){h.fn[t]=function(){return this.offset()[t]}}),t)h.fn[i]=function(e){return function(n){return this.each(function(t){t["insertAdjacent"+(n instanceof Element?"Element":"HTML")](e,n)})}}(t[i]);return a.prototype=h.fn,h}();